(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(81),a=n.n(r),i=n(645),s=n.n(i),o=n(667),l=n.n(o),d=new URL(n(875),n.b),c=new URL(n(943),n.b),m=s()(a()),u=l()(d),h=l()(c);m.push([e.id,`:root {\n  --font-colour: #f3ecf1;\n  --bg-colour: #1f141c;\n  --primary-colour: #9ba18a;\n  --primary-colour-light: #c3ccad;\n  --secondary-colour: #261821;\n  --accent: #445c66;\n  --accent-light: #6890a1;\n  --striked: red;\n}\n\n@font-face {\n  font-family: "bitwise";\n  src: url(${u}) format("woff"),\n    url(${h}) format("woff2");\n}\n\nhtml {\n  box-sizing: border-box;\n  font-size: 10px;\n  line-height: 1.5;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-size: 1.5rem;\n  text-transform: capitalize;\n  height: 100vh;\n  background-color: var(--bg-colour);\n  color: var(--font-colour);\n}\n\n/* * grids */\n.parent-grid {\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr 20fr 1fr;\n}\n\n.main-grid {\n  display: grid;\n  grid-template-columns: 180px minmax(300px, 3fr);\n}\n\n#tasks-container {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  padding: 1.5rem;\n  margin-left: 1rem;\n}\n\n/* * header */\nheader {\n  padding: 2rem 3rem;\n  font-size: 2.5rem;\n  font-family: bitwise;\n  letter-spacing: 1.3rem;\n  background-color: var(--secondary-colour);\n}\n\nheader h1 {\n  background: linear-gradient(to right, #6890a1 3%, #9ba18a 22%, #c3ccad);\n  -webkit-text-fill-color: transparent;\n  -webkit-background-clip: text;\n}\n\n/* * aside */\n#sidebar {\n  border-right: 1rem solid var(--accent);\n  position: relative;\n  transition: transform 300ms ease-in;\n}\n\n.nav-item {\n  padding: 3px 1.3rem;\n}\n\n.nav-item:hover {\n  background-color: var(--accent);\n  cursor: pointer;\n}\n\n#sec-header {\n  padding: 3px 1rem;\n  text-align: center;\n  letter-spacing: 4px;\n  pointer-events: none;\n}\n\n.category {\n  display: block;\n}\n\n#cat-form,\n.category.btn {\n  width: 80%;\n  margin: 0.5rem auto;\n}\n\n#cat-form > input {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n}\n\n#tasks-container .edit.btn,\n#tasks-container .delete.btn,\n#cat-form .save.btn,\n#cat-form .cancel.btn {\n  padding: 3px 5px;\n  width: calc((100% / 2) - 3px);\n}\n\n#cat-form .save.btn,\n#form .save.btn {\n  background-color: var(--primary-colour);\n  border: 2px solid var(--primary-colour);\n}\n\n#cat-form .save.btn:hover,\n#form .save.btn:hover {\n  background-color: var(--primary-colour-light);\n}\n\n/* * category */\n#category-container > * {\n  margin-bottom: 5px;\n}\n\n/* * content header */\n#content-header {\n  padding: 0.5rem 2rem;\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n/* * task card */\n#tasks-container [data-index] {\n  border: 2px solid var(--primary-colour);\n  border-radius: 10px;\n  min-height: 20rem;\n  padding: 1rem;\n  word-wrap: break-word;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  position: relative;\n}\n\n#tasks-container .checkbox {\n  width: 1.8rem;\n  height: 1.8rem;\n  margin-left: 3px;\n  cursor: pointer;\n  vertical-align: text-bottom;\n}\n\n[data-index] .task-header {\n  border-bottom: 1.5px dashed var(--accent);\n  padding-bottom: 2px;\n}\n\n[data-index] #prio,\n[data-index] #taskID {\n  color: var(--accent-light);\n}\n\n[data-index] .des {\n  text-transform: lowercase;\n}\n\n[data-index] > * {\n  margin-top: 0.5rem;\n}\n\n/* * buttons */\n.btn {\n  padding: 10px;\n  width: 100%;\n  font-size: 1.5rem;\n  text-transform: capitalize;\n  color: var(--font-colour);\n  background-color: var(--accent);\n  border: 2px solid var(--accent);\n  border-radius: 5px;\n}\n\n.btn:hover {\n  background-color: var(--accent-light);\n}\n\n#category-btn {\n  margin-bottom: 1rem;\n}\n\n#add-icon {\n  font-size: 4rem;\n}\n\n#add-btn,\n#clear-btn {\n  width: 100px;\n  padding: 0 0.7rem;\n  background-color: transparent;\n  border-radius: 5px;\n  border: none;\n  box-shadow: 3px 3px 2.6px var(--primary-colour-light);\n  cursor: pointer;\n}\n\n#add-btn:hover,\n#clear-btn:hover {\n  background: linear-gradient(\n    to right,\n    var(--primary-colour),\n    var(--primary-colour-light)\n  );\n  box-shadow: none;\n}\n\n#clear-btn {\n  padding: 1rem;\n}\n\n#toggle-btn {\n  width: 2rem;\n  height: 3rem;\n  border: 2px solid var(--accent);\n  border-radius: 0.5rem;\n  color: var(--font-colour);\n  background-color: transparent;\n  cursor: pointer;\n\n  position: absolute;\n  top: 10%;\n  right: -0.5rem;\n}\n\n/* * form modal */\n#form {\n  box-shadow: 0px 0.5rem 2rem var(--primary-colour);\n  border-radius: 10px;\n  width: 30rem;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n}\n\n#form input,\n#form textarea,\n#form select {\n  font-size: 1.5rem;\n  display: block;\n  padding: 3px 0.5rem;\n}\n\n#form input[type="text"] {\n  height: 3rem;\n}\n\n#form textarea {\n  resize: none;\n}\n\n#form input:not(input[type="date"]),\n#form textarea {\n  width: 100%;\n}\n\n#form .confirmation {\n  margin-top: 1rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.modal {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n}\n\n.del-btn {\n  display: none;\n  cursor: pointer;\n}\n\n/* * footer */\nfooter {\n  text-align: center;\n  padding: 0.5rem;\n}\n\nfooter a {\n  text-decoration: underline;\n  text-transform: lowercase;\n  color: var(--font-colour);\n}\n\n/* ? action classes */\n.hidden {\n  display: none !important;\n}\n\n.blur {\n  position: fixed;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.75);\n  backdrop-filter: blur(3px);\n  z-index: 1;\n}\n\n.bold {\n  font-weight: bold;\n}\n\n.t-bold {\n  font-weight: 400;\n}\n\n.l-bold {\n  font-weight: 100;\n}\n\n.flex-sb {\n  display: flex;\n  justify-content: space-between;\n}\n\n.flex-ct-ev {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n}\n\n.red-border {\n  border: 2px solid red;\n}\n\n.selected {\n  border-top: 3px dashed var(--accent);\n  border-bottom: 3px dashed var(--accent);\n  border-left: 3px dashed var(--accent);\n\n  .del-btn {\n    display: inline-block;\n  }\n}\n\n.striked {\n  #task-title,\n  #task-description,\n  #task-due > p:first-of-type {\n    text-decoration: line-through;\n    text-decoration-thickness: 1.5px;\n    text-decoration-color: var(--striked);\n  }\n}\n\n.width80-centre {\n  width: 80%;\n  margin: 0 auto;\n}\n\n.hide {\n  position: relative;\n  margin-left: -17.5rem;\n  transition: margin-left 250ms ease-out;\n\n  #toggle-btn {\n    transition: all 0.7s;\n    transform: rotate(180deg);\n    transform: scaleX(-1);\n    right: -2.5rem;\n  }\n}\n\n.show {\n  position: relative;\n  margin-left: 0rem;\n  transition: margin-left 250ms ease-in;\n\n  #toggle-btn {\n    transition: all 0.7s;\n    transform: rotate(-180deg);\n    transform: scaleX(1);\n    right: -0.5rem;\n  }\n}\n\nbody::-webkit-scrollbar {\n  display: none;\n}\n`,""]);const p=m},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],o=0;o<e.length;o++){var l=e[o],d=r.base?l[0]+r.base:l[0],c=i[d]||0,m="".concat(d," ").concat(c);i[d]=c+1;var u=n(m),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var p=a(h,r);r.byIndex=o,t.splice(o,0,{identifier:m,updater:p,references:1})}s.push(m)}return s}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var o=n(i[s]);t[o].references--}for(var l=r(e,a),d=0;d<i.length;d++){var c=n(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},636:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},875:(e,t,n)=>{e.exports=n.p+"06e8776f4a0da70dbbbd.woff"},943:(e,t,n)=>{e.exports=n.p+"3049567e2e814fe844f8.woff2"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),a=n.n(r),i=n(569),s=n.n(i),o=n(636),l=n.n(o),d=n(216),c=n.n(d),m=n(589),u=n.n(m),h=n(426),p={};p.styleTagTransform=u(),p.setAttributes=l(),p.insert=s().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=c(),t()(h.Z,p),h.Z&&h.Z.locals&&h.Z.locals;const b={events:{},subscribe:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},publish:function(e,...t){this.events[e]&&this.events[e].forEach((e=>e(t)))}},f={init:function(){this.cacheDOM(),this.bindEvents(),this.updateDatePicker()},cacheDOM:function(){this.docu=document.querySelector("body"),this.content=this.docu.querySelector("#content"),this.sidebar=this.docu.querySelector("#sidebar"),this.form=this.docu.querySelector("#form"),this.overlay=this.docu.querySelector("#overlay"),this.addTaskBtn=this.docu.querySelector("#add-btn"),this.saveFormBtn=this.docu.querySelector("#save-btn"),this.cancelFormBtn=this.docu.querySelector("#cancel-btn"),this.datePicker=this.docu.querySelector("#dueDate")},bindEvents:function(){this.saveFormBtn.addEventListener("mouseup",(()=>{this.saveFormBtn.classList.contains("edit")&&this.onEditComplete()})),this.content.lastElementChild.addEventListener("click",this.onCheckBoxClicked.bind(this)),this.content.addEventListener("click",this.onClearAllBtn.bind(this)),this.content.lastElementChild.addEventListener("click",this.delegateEditDelBtns.bind(this)),this.sidebar.addEventListener("click",this.onSideBarClicked.bind(this)),this.addTaskBtn.addEventListener("click",this.onAddBtnClicked.bind(this)),this.saveFormBtn.addEventListener("click",this.onFormBtnClicked.bind(this)),this.cancelFormBtn.addEventListener("click",this.onFormBtnClicked.bind(this))},onAddBtnClicked:function(e){e.preventDefault(),b.publish("addTaskClicked",e.target,this.form,this.overlay)},onFormBtnClicked:function(e){switch(e.preventDefault(),e.target.id){case"save-btn":b.publish("formSaveBtnClicked",this.addTaskBtn,this.form,this.overlay);break;case"cancel-btn":b.publish("formCancelBtnClicked",this.addTaskBtn,this.form,this.overlay)}},delegateEditDelBtns:function(e){e.target.classList.contains("option")&&b.publish("taskCardBtnClicked",e.target,this.content)},onEditComplete:function(){b.publish("taskFromEdited",this.form)},onSideBarClicked:function(e){if("sidebar"!==e.target.id&&"sec-header"!==e.target.id)switch(b.publish("navClicked",this.addTaskBtn,this.content,this.sidebar),e.target.classList.contains("dynamic")?b.publish("categoryClicked",e.target,this.content,this.sidebar.lastElementChild.lastElementChild,this.addTaskBtn):e.target.classList.contains("del-btn")&&b.publish("catDelBtnClicked",e.target),e.target.id){case"home":b.publish("allClicked",e.target,this.content);break;case"today":b.publish("dueTodayClicked",e.target,this.content);break;case"this-week":b.publish("dueThisWeekClicked",e.target,this.content);break;case"priority-low":case"priority-medium":case"priority-high":b.publish("priorityClicked",e.target,this.content);break;case"completed":b.publish("completedClicked",e.target,this.content,this.addTaskBtn);break;case"category-btn":b.publish("addCatBtnClicked",e.target,this.sidebar);break;case"cat-save-btn":case"cat-cancel-btn":b.publish("catSaveCancelClicked",e,this.sidebar);break;case"toggle-btn":b.publish("toggleBtnClicked",e,this.sidebar)}},onCheckBoxClicked:function(e){"status"===e.target.name&&b.publish("checkBoxClicked",e.target,this.content)},onClearAllBtn:function(e){"clear-btn"===e.target.id&&b.publish("clearAllBtnClicked",this.content)},updateDatePicker:function(){this.datePicker.valueAsDate=new Date}};f.init();const g=function(){const e=function([e,t,n]){"SPAN"===e.nodeName?e.parentElement.classList.add("hidden"):e.classList.add("hidden"),t.classList.remove("hidden"),n.classList.remove("hidden")},t=function([e,t,n]){r(e,t,n),t.lastElementChild.firstElementChild.classList.remove("edit"),a()},n=function([e,t,n]){if(t.lastElementChild.firstElementChild.classList.contains("edit"))return void a();const i=[],s=t.children[0].children[0],o=t.children[1].children[0],l=t.children[2].children[0],d=t.children[3].children[0];if(""===s.value.trim())return alert("title cannot be empty"),void(s.value="");i.push({title:s.value.toLowerCase()}),i.push({description:o.value.toLowerCase().trim()}),i.push({priority:l.value.toLowerCase()}),i.push({dueDate:d.value}),s.value="",o.value="",f.updateDatePicker(),r(e,t,n),b.publish("newTaskCreated",i,t.parentElement)},r=(e,t,n)=>{t.classList.add("hidden"),n.classList.add("hidden"),e.classList.remove("hidden")},a=()=>{form.children[0].children[0].value="",form.children[1].children[0].value="",form.children[2].children[0].value="low",f.updateDatePicker(),form.lastElementChild.firstElementChild.textContent="save",form.lastElementChild.firstElementChild.classList.remove("edit")};return{render:function(){b.subscribe("addTaskClicked",e),b.subscribe("formCancelBtnClicked",t),b.subscribe("formSaveBtnClicked",n)},showFormHideButton:e}}(),v=function(){const e=document.querySelector("#content"),t=([e,t])=>{const a=t.lastElementChild.classList[0],s=i();let o;o=0===s.length?s.length+1:s.at(-1).taskID+1,(e=Object.assign({},...e)).issuedDate=(new Date).toLocaleDateString("fr-CA"),e.taskID=o,e.week=k(e.dueDate),void 0!==a&&(e.category=a),r(e,"tasksArray"),n(t,"tasksArray",a)},n=(e,t,n=null)=>{e.firstElementChild.firstElementChild.textContent="all tasks";let r=i(t);n&&(r=r.filter((e=>e.category===n))),e.lastElementChild.innerHTML="",r.forEach((t=>{const n=v(t);e.lastElementChild.appendChild(n)}))},r=(e,t)=>{let n=i(t);n.push(e),n=Array.from(new Set(n)),localStorage.setItem(t,JSON.stringify(n))},a=(e,t="tasksArray")=>{localStorage.setItem(t,JSON.stringify(e))},i=(e="tasksArray")=>{let t;return t=null===localStorage.getItem(e)?[]:JSON.parse(localStorage.getItem(e)),t},s=([e,t])=>{"delete-btn"===e.id?o(e,t):d(e,t)},o=(e,t)=>{if(!confirm("Are you sure you want to remove this item?"))return;l(e);const r=t.lastElementChild.classList[0];n(t,"tasksArray",r)},l=e=>{const t=i();let n;"BUTTON"===e.nodeName?n=Number(e.parentElement.parentElement.parentElement.getAttribute("data-index")):"INPUT"===e.nodeName&&(n=Number(e.parentElement.parentElement.getAttribute("data-index")));const r=t.filter((e=>e.taskID!==n));a(r)},d=(e,t)=>{const[n]=c(e);m(t),u(form,n),b.subscribe("taskFromEdited",(e=>{const r=h(e,n);p(r,t),location.reload()}))},c=e=>{const t=i();let n;return"BUTTON"===e.nodeName?n=Number(e.parentElement.parentElement.parentElement.getAttribute("data-index")):"INPUT"===e.nodeName&&(n=Number(e.parentElement.parentElement.getAttribute("data-index"))),t.filter((e=>e.taskID===n))},m=e=>{g.showFormHideButton([e.firstElementChild.children[1],e.children[1],e.children[2]]);const t=form.lastElementChild.firstElementChild;t.classList.add("edit"),t.textContent="update"},u=(e,t)=>{const[n,r,a,i]=f(e);n.value=t.title,r.value=t.description,a.value=t.priority,i.value=t.dueDate},h=([e],t)=>(f(e).forEach((e=>{Object.keys(t).forEach((n=>{n===e.id&&(t[n]=e.value)}))})),t),p=(e,t)=>{const n=i();n.forEach(((t,r)=>{t.taskID===e.taskID&&(n[r]=e)})),a(n)},f=e=>[e.children[0].children[0],e.children[1].children[0],e.children[2].children[0],e.children[3].children[0]],v=e=>{const t={day:"2-digit",month:"short",year:"2-digit"},n=new Date(e.dueDate).toLocaleDateString("en-GB",t),r=new Date(e.issuedDate).toLocaleDateString("en-GB",t),a=document.createElement("div");return a.setAttribute("data-index",e.taskID),a.innerHTML=`\n      <div class="task-header flex-sb">\n        <p><span id="taskID">&#10747;</span> <span>${e.taskID}</span></p>\n        <p><span id="prio">&#x24D8;</span> <span class="bold">${e.priority}</span></p>\n        <p><span id="issuedD">&#128337;</span> <span>${r}</span>\n      </div>\n\n      <label class="bold">status: <input type="checkbox" name="status" class="checkbox" title="task completed?"  /></label>\n      <div id="task-title"><span class="bold">title:</span> <em class ="t-bold">${e.title}</em></div>\n      <div id="task-description"><span class="bold">description:</span> <em class= "des l-bold">${e.description}</em></div>\n      <div id="task-due" class="flex-sb">\n        <p><span id="dueD">&#128198;</span> <span>${n}</span></p>\n        <div class="options">\n          <button class="option edit btn" id="edit-btn">&#x1F589;</button>\n          <button class="option delete btn" id="delete-btn">&#128465;</button>\n        </div>\n      </div>\n    `,a},k=e=>{const t=new Date(e),n=new Date(t.getFullYear(),0,1),r=Math.floor((t-n)/864e5);return Math.ceil(r/7)};return{render:()=>{b.subscribe("newTaskCreated",t),b.subscribe("taskCardBtnClicked",s),n(e)},getDataFromStorage:i,addDataToStorage:r,updateDataInStorage:a,getTaskToEdit:c,removeItemFromArray:l,createTaskCards:n,createTaskElements:v,getWeek:k}}(),k=function(){const e=document.querySelector("#category-container"),t=(e,t,n)=>{n&&(t.firstElementChild.firstElementChild.textContent=n),t.lastElementChild.innerHTML="",e.forEach((e=>{const n=v.createTaskElements(e);t.lastElementChild.appendChild(n)}))},n=([e,t])=>{t.lastElementChild.className="",v.createTaskCards(t),e.classList.add("selected"),t.firstElementChild.firstElementChild.textContent=`${e.textContent} tasks`},r=([e,n])=>{const r=(new Date).toLocaleDateString("en-GB"),a=v.getDataFromStorage().filter((e=>g(e.dueDate)===r));e.classList.add("selected"),t(a,n,`tasks due ${e.textContent}`)},a=([e,n])=>{const r=new Date,a=v.getDataFromStorage(),i=v.getWeek(r),s=a.filter((e=>e.week===i));e.classList.add("selected"),t(s,n,`tasks due ${e.textContent}`)},i=([e,t])=>{switch(e.classList.add("selected"),e.id){case"priority-low":s("low",t);break;case"priority-medium":s("medium",t);break;case"priority-high":s("high",t)}},s=(e,n)=>{const r=v.getDataFromStorage().filter((t=>t.priority===e));t(r,n,`priority: ${e}`)},o=([e,t])=>{const n=t.lastElementChild.lastElementChild.previousElementSibling;e.classList.add("hidden"),n.classList.remove("hidden")},l=([e,t])=>{const n=t.lastElementChild.lastElementChild.previousElementSibling;t.lastElementChild.lastElementChild.previousElementSibling.previousElementSibling.classList.remove("hidden"),n.classList.add("hidden"),"cat-save-btn"===e.target.id&&k(e,n),n.firstElementChild.value=""},d=([e,n,r])=>{E(r,e),x(n,e);const a=v.getDataFromStorage().filter((t=>t.category===e.getAttribute("data-name")));e.classList.add("flex-sb"),t(a,n,e.textContent.slice(0,-1))},c=([e])=>{if(!confirm("Are you sure you want to delete this category?"))return;const t=e.parentElement.getAttribute("data-name"),n=v.getDataFromStorage(),r=v.getDataFromStorage("categories"),a=n.filter((e=>e.category!==t));r.splice(r.indexOf(t),1),v.updateDataInStorage(r,"categories"),v.updateDataInStorage(a),location.reload()},m=([e,t])=>{if(!confirm("Do you want to mark this task complete?"))return void(e.checked=!1);e.parentElement.parentElement.classList.add("striked");const n=v.getTaskToEdit(e);e.disabled=!0,e.parentElement.nextElementSibling.nextElementSibling.nextElementSibling.lastElementChild.classList.add("hidden"),v.addDataToStorage(n[0],"completed"),v.removeItemFromArray(e)},u=([e,n,r])=>{e.classList.add("selected");const a=v.getDataFromStorage("completed"),i=w();r.classList.add("hidden"),"clear-btn"!==n.firstElementChild.children[1].id&&n.firstElementChild.insertBefore(i,r),t(a,n,`${e.textContent} tasks`),n.lastElementChild.querySelectorAll("[data-index]").forEach((e=>{const t=e.lastElementChild.lastElementChild,n=e.children[1];e.classList.add("striked"),t.classList.add("hidden"),e.removeChild(n)}))},h=([e,t,n])=>{const r=t.firstElementChild,a=r.children[1];e.classList.remove("hidden"),"clear-btn"===a.id&&r.removeChild(a),n.querySelectorAll(".nav-item").forEach((e=>{e.classList.contains("selected")&&e.classList.remove("selected")}))},p=([e])=>{localStorage.removeItem("completed"),e.lastElementChild.innerHTML=""},f=([e,t])=>{t.parentElement.classList.contains("hide")?(t.parentElement.classList.remove("hide"),t.parentElement.classList.add("show")):(t.parentElement.classList.add("hide"),t.parentElement.classList.remove("show"))},g=e=>new Date(e).toLocaleDateString("en-GB"),k=(e,t)=>{e.preventDefault();const n=t.firstElementChild;if(""===n.value.trim())return alert("category name cannot be empty"),void(n.value="");b.publish("newCatCreated",n.value.trim().toLowerCase(),t)},y=([e,t])=>{const n=t.nextElementSibling;v.addDataToStorage(e,"categories"),C(n)},C=t=>{const n=v.getDataFromStorage("categories");e.innerHTML="",n.forEach((e=>{const n=document.createElement("div"),r=document.createElement("span");n.textContent=e,r.textContent="✖",r.classList.add("del-btn"),n.setAttribute("data-name",e.replace(/\s/g,"")),n.classList.add("nav-item","dynamic"),n.append(r),t.appendChild(n)}))},x=(e,t)=>{const n=e.lastElementChild,r=t.getAttribute("data-name");n.className="",n.classList.add(r.replace(/\s/g,"")),n.innerHTML=""},E=(e,t)=>{Array.from(e.children).forEach((e=>{e.classList.contains("selected")&&e.classList.remove("selected")})),t.classList.add("selected")},w=()=>{const e=document.createElement("button");return e.classList.add("clear","btn"),e.id="clear-btn",e.textContent="clear all",e};return{render:()=>{b.subscribe("allClicked",n),b.subscribe("dueTodayClicked",r),b.subscribe("dueThisWeekClicked",a),b.subscribe("priorityClicked",i),b.subscribe("categoryClicked",d),b.subscribe("completedClicked",u),b.subscribe("checkBoxClicked",m),b.subscribe("navClicked",h),b.subscribe("addCatBtnClicked",o),b.subscribe("catSaveCancelClicked",l),b.subscribe("newCatCreated",y),b.subscribe("catDelBtnClicked",c),b.subscribe("clearAllBtnClicked",p),b.subscribe("toggleBtnClicked",f),C(e)}}}();document.addEventListener("DOMContentLoaded",(()=>{g.render(),v.render(),k.render()}))})()})();